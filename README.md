# Althouse_Vector_Ecological_Specialization

# Ecological Specialization in Vectors  
### Reproducing the analyses and figures for  
**“Ecological specialization in vectors drives backward bifurcations and creates enzootic traps in multi-host, multi-vector systems.”**


---

## Repository structure

```
Althouse_Vector_Ecological_Specialization/
│
├─ data/                    # Raw & cleaned field data (CSV / RDS)
├─ scripts/
│   ├─ 01_setup_env.R       # installs R packages, sets paths
│   ├─ 02_run_ode.R         # core ODE model (R + deSolve)
│   ├─ 03_bifurcation.R     # continuation & bifurcation analysis (R + rootSolve)
│   ├─ 04_sensitivity.R     # Sobol & PRCC routines (Python + SALib)
│   └─ 05_make_figures.R    # reproduces Figs 1–3
├─ results/
│   ├─ figs/                # autogenerated figures
│   └─ tables/              # parameter tables, Sobol indices
├─ paper/                   # PDF of the accepted manuscript
├─ README.md
└─ CITATION.cff
```

## Quick-start

1. **Clone the repo**

   ```bash
   git clone https://github.com/althouse/Althouse_Vector_Ecological_Specialization.git
   cd Althouse_Vector_Ecological_Specialization
   ```

2. **Create the conda / renv environment**

   ```bash
   # R side
   R -e "source('scripts/01_setup_env.R')"

   # Python side (optional, for sensitivity analysis)
   conda env create -f environment.yml
   conda activate vector-eco
   ```

3. **Run everything**

   ```bash
   Rscript scripts/02_run_ode.R          # generates model outputs (.rds)
   Rscript scripts/03_bifurcation.R      # continuation curves
   python scripts/04_sensitivity.py      # Sobol & PRCC (takes ~5 min)
   Rscript scripts/05_make_figures.R     # Figure 1–3 PDFs end up in results/figs
   ```

   All numbers in the manuscript (including Table 1 and Figure 3 heat maps) can be reproduced on a laptop in < 15 minutes.

## Dependencies

* **R ≥ 4.3**: tidyverse, deSolve, rootSolve, ggplot2, patchwork, viridis, optparse, knitr  
* **Python ≥ 3.10** (optional): numpy, pandas, SALib, matplotlib  
* **LaTeX** (for knitting the PDF)

Exact versions are pinned in `renv.lock` (R) and `environment.yml` (conda).

## How to cite

If you use any part of this code or data, please cite the associated article:

> Althouse BM (2025) *Ecological specialization in vectors drives backward bifurcations and creates enzootic traps in multi-host, multi-vector systems.


## Contact

Questions or pull requests are welcome!  
Benjamin M. Althouse — <bma85@uw.edu>

---

## License

This repository is released under the **MIT License** (see `LICENSE` file for full text).

```
MIT License

Copyright (c) 2025 Benjamin M. Althouse

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the “Software”), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions…

(full MIT text continues)
```

---

## Acknowledgements

Field data were collected by the Dakar Pasteur Institute vector team; bifurcation analysis inspired by discussions with Derek Cummings and David Smith. Funding from NIH AI069145, NSF GRFP DGE-0707427, Santa Fe Institute, and the Global Good Fund.

